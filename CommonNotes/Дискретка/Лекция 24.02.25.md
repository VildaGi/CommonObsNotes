### Тема: Теорема Холла "о свадьбах"
Задача: Пусть есть m девушек, каждая из которых дружит с одним или несколькими юношами. При каких условиях каждая девушка сможет выйти замуж за юношу с которым дружит.

g_1 : b_1, b_4, b_5
g_2 : b_1, b_4,
g_3 : b_2, b_3, b_4
g_4 : b_2, b_4

Пусть g_1-g_4, b_1-b_5 это вершины.
![[Pasted image 20250224134606.png | 100 30]]

>[!info] Совершенное паросочитание
>Совершенное паросочитание из V1 в V2 двудольного графа G=(V1, V2) - это  взаимно однозначное соответствие всех вершин V1 и некоторые вершины V2, такое, что соответствующие вершины соединены ребром.

Новая Задача: Какое достаточное условия задачи?
#### Необходимое условие
Заметим, что для любых k девушек, должно найтись хотя бы k юношей, с которыми эти k девушек дружат в совокупности(в объединении), где 1 <=  k <= m, если задача решается.
#### Теорема Холла "о свадьбах"
Для того, что задача о свадьбах имела решение необходимо и достаточно, чтобы для любого подмножества из k девушек существовало хотя бы подмножество k юношей, в совокупности дружащих с этими девушками, 1 <= k <= m.
##### Доказательство
=> Если задача решается, то любое k девушек должны дружить с k будущих мужьями.
<= Пусть для любого k<m девушек дружат хотя бы с k юношей. 
Докажем индукцией по m.

`База`: 
m=1, выбираем любого друга и женим.

`Предположение`: 
Пусть для k < m этих k девушек можно переженить.

`Шаг индукции`:
Покажем, что m девушек тоже можно переженить.
1) Пусть любые k девушек дружат с k+1 юношей. Выбираем любую и женим её на любом другом. Тогда для оставшихся k<m выполняется условия теоремы. По предположению их тоже можно переженить. 
2) Существует k<m девушек дружат с k юношей. Давайте переженим этих k девушек и k юношей. Тогда (m-k) девушек ещё не поженили. Тогда для любого 1 <= h <= m-k  дружат с хотя бы h юношами.                                                                                                                   (Пусть это не так, тогда h+k девушек дружат с меньше, чем h+k юношами)                           По предположению m-k девушек можно переженить.


#### Следствие из теоремы
Пусть G=(V1,V2) - двудольный граф, пусть A \subset V1, то N(A) - это множество вершин из V2, таких, что каждая смежна хотя бы с 1 вершиной из A, тогда для G существует существует совершенное паросочитание титт, Для любого A \subset V1, |A| <= |N(A)|
##### Доказательство
Теорема Холла о свадьбах на языке двудольных графов.

#### Решение задачи через множества
Пусть E- непустое конечное множество, пусть F =(S1,S2, ... , Sm) - это семейство подмножеств множества E(не обязательно различных).
Тогда трансверсаль F - это множество элементов из E, таких что они выбраны по одному из каждого подмножества, таких что они выбраны из каждого Si.
Пример:
E = {1,2,3,4,5}
F=({1,4,5}, {1,4}, {2,3,4}, {2,4})

#### Необходимые и достаточное условие для существование трансверсалей
Пусть E - непустое конечное множество, пусть F =(S1,S2, ... , Sm) - это семейство подмножеств множества E(не обязательно различных). Тогда трансверсаль F существует титт, когда объединение любых k подмножеств F содержат хотя бы k элементов, 1 <= k <= m.
##### Доказательство
`=>` Пусть есть трансверсаль, тогда для любых k подмножеств их объединение содержит их частичные трансверсали, то есть хотя бы k элементов.
`<=` Покажем, что их любого подмножества Si содержащего хотя бы 2 элемента, можно выкинуть 1, не меняя условия теоремы.
Если это так, то из каждого подмножества выкидываем всё, кроме 1 элемента не меняя условия теоремы, но тогда получили трансверсаль исходной задачи.
Пусть это не так, то есть:
S1 и x,y \in S1, такие что их удаление 1 или другого нарушает условия теоремы.
Найдутся A, B \subset {2, 3, ... , m} нарушится условие
P = (V , Sj) v (Si - {x}), j in A,    |P| <= |A|
Q = (V , Sj) v (Si - {x}),  j in B,   |Q| <= |B|
|P v Q| = |(U (Sj) for j in (AvB)) v S1|
|P пересечение Q| >= |U (Sj) for j in (AvB)|
	|A| + |B| >= |P| + |Q| = |PvQ| + |P пересечение Q| >= |(U (Sj) for j in (AvB)) v S1| + |U (Sj) for j in (AvB)| >= |AvB| + |A пересечение B| + 1, получили противоречие.